-- NovaUI_Main_Module.lua
local NovaUI = {}

-- Hier erstellen wir die Hauptfunktionen von NovaUI
function NovaUI:CreateWindow(options)
    -- Erstellen des Fensters
    local Window = {}
    Window.Name = options.Name or "Nova UI Window"
    Window.Theme = options.Theme or "Default"
    Window.KeySystem = options.KeySystem or false
    Window.KeySettings = options.KeySettings or {}

    -- Fenster-Komponenten
    Window.Tabs = {}

    -- Speichern der Einstellungen
    if options.ConfigurationSaving.Enabled then
        -- Implementiere Code für das Speichern der Konfiguration hier
    end

    -- Erstellen des Fensters im UI
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = Window.Name
    screenGui.Parent = game.Players.LocalPlayer.PlayerGui

    -- Rückgabe des Fensters
    return Window
end

function NovaUI:CreateTab(Window, tabName)
    -- Erstellen eines Tabs
    local Tab = {}
    Tab.Name = tabName or "Tab"
    Tab.Components = {}

    -- Tab ins Fenster hinzufügen
    table.insert(Window.Tabs, Tab)

    -- Tab GUI-Element erstellen
    local tabFrame = Instance.new("Frame")
    tabFrame.Name = Tab.Name
    tabFrame.Size = UDim2.new(1, 0, 1, 0)
    tabFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    tabFrame.Parent = Window

    -- Rückgabe des Tabs
    return Tab
end

-- Buttons, Toggles, Slider, etc.
function NovaUI:CreateButton(Tab, options)
    local Button = {}
    Button.Name = options.Name or "Button"
    Button.Callback = options.Callback or function() end

    local buttonGui = Instance.new("TextButton")
    buttonGui.Size = UDim2.new(0, 200, 0, 50)
    buttonGui.Text = Button.Name
    buttonGui.Parent = Tab

    buttonGui.MouseButton1Click:Connect(function()
        Button.Callback()
    end)

    table.insert(Tab.Components, Button)
    return Button
end

function NovaUI:AddToggle(Tab, options)
    local Toggle = {}
    Toggle.Name = options.Name or "Toggle"
    Toggle.Default = options.Default or false
    Toggle.Callback = options.Callback or function(state) end

    local toggleGui = Instance.new("TextButton")
    toggleGui.Size = UDim2.new(0, 200, 0, 50)
    toggleGui.Text = Toggle.Name
    toggleGui.Parent = Tab

    toggleGui.MouseButton1Click:Connect(function()
        Toggle.Default = not Toggle.Default
        Toggle.Callback(Toggle.Default)
    end)

    table.insert(Tab.Components, Toggle)
    return Toggle
end

function NovaUI:AddSlider(Tab, options)
    local Slider = {}
    Slider.Name = options.Name or "Slider"
    Slider.Min = options.Min or 0
    Slider.Max = options.Max or 100
    Slider.Default = options.Default or 50
    Slider.Callback = options.Callback or function(value) end

    -- Slider GUI-Element
    local sliderGui = Instance.new("Slider")
    sliderGui.Size = UDim2.new(0, 200, 0, 50)
    sliderGui.Parent = Tab

    sliderGui.Changed:Connect(function()
        Slider.Callback(sliderGui.Value)
    end)

    table.insert(Tab.Components, Slider)
    return Slider
end

function NovaUI:AddDropdown(Tab, options)
    local Dropdown = {}
    Dropdown.Name = options.Name or "Dropdown"
    Dropdown.Options = options.Options or {}
    Dropdown.Default = options.Default or "Option 1"
    Dropdown.Callback = options.Callback or function(selectedOption) end

    -- Dropdown GUI-Element
    local dropdownGui = Instance.new("TextButton")
    dropdownGui.Size = UDim2.new(0, 200, 0, 50)
    dropdownGui.Text = Dropdown.Name
    dropdownGui.Parent = Tab

    -- Dropdown-Auswahl
    dropdownGui.MouseButton1Click:Connect(function()
        local selectedOption = "Option 1"  -- Beispiel
        Dropdown.Callback(selectedOption)
    end)

    table.insert(Tab.Components, Dropdown)
    return Dropdown
end

function NovaUI:AddKeybind(Tab, options)
    local Keybind = {}
    Keybind.Name = options.Name or "Keybind"
    Keybind.Key = options.Key or "F"
    Keybind.Callback = options.Callback or function() end

    -- Keybind GUI-Element
    local keybindGui = Instance.new("TextButton")
    keybindGui.Size = UDim2.new(0, 200, 0, 50)
    keybindGui.Text = Keybind.Name
    keybindGui.Parent = Tab

    -- Keybind für Taste "F"
    keybindGui.MouseButton1Click:Connect(function()
        Keybind.Callback()
    end)

    table.insert(Tab.Components, Keybind)
    return Keybind
end

-- Weitere UI-Komponenten wie Labels, Trennlinien, Farbwähler etc. können hier ähnlich hinzugefügt werden.

function NovaUI:ApplyTheme(Window, theme)
    -- Beispiel für Theme-Wechsel
    Window.Theme = theme
end

-- Rückgabe der NovaUI-Funktionen
return NovaUI
